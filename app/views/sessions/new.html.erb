<%= tag.div(flash[:alert], style: "color:red") if flash[:alert] %>
<%= tag.div(flash[:notice], style: "color:green") if flash[:notice] %>

<%= form_with url: session_path do |form| %>
  <%= form.email_field :email_address, required: true, autofocus: true, autocomplete: "username", placeholder: "Enter your email address", value: params[:email_address] %><br>

  <div data-controller="password-visibility" style="margin-top:.75rem;">
    <%= form.password_field :password,
                            required: true,
                            autocomplete: "current-password",
                            placeholder: "Enter your password",
                            maxlength: 72,
                            data: { "password-visibility-target": "input" } %>

    <%= tag.input type: "checkbox",
                  id: "show_password",
                  name: nil,
                  data: { action: "password-visibility#toggle" } %>
    <label for="show_password" style="margin-left:.5rem;">Show password</label>
  </div>

  <br>
  <%= form.submit "Sign in", data: { disable_with: "Signing in..." } %>
<% end %>

<%= link_to "Forgot password?", new_password_path %>
